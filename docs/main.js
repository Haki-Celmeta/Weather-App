(()=>{"use strict";const e=document.querySelector(".city-country"),t=document.querySelector(".condition-text"),n=document.querySelector(".icon"),c=document.querySelector(".degree"),r=document.querySelector(".wind"),i=document.querySelector(".humidity"),o=document.querySelector(".feelslike"),d="â„ƒ",a=document.querySelector("table");function u(e){const t=document.createElement("th");return t.innerText=e,t}function l(e){const t=document.createElement("td");return t.innerText=e,t}function s(e,t,n,c,r,i){const o=function(){const e=document.createElement("tr");return e.classList.add("forecast-date"),e}(),a=l(e.slice(-2)),u=function(e){const t=document.createElement("td"),n=function(e){const t=document.createElement("img");return t.classList.add("small-icon"),t.src=e,t}(e);return t.appendChild(n),t}(t),s=l(`${n}kph`),p=l(`${c}%`),m=l(`${r}${d}`),h=l(`${i}${d}`);return o.appendChild(a),o.appendChild(u),o.appendChild(s),o.appendChild(p),o.appendChild(m),o.appendChild(h),o}const p=document.querySelector("input"),m=document.querySelector(".error-display");async function h(l){const p=await async function(e){try{const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=d32e343e2cba408f898102759232108&q=${e}`);if(!t.ok)throw new Error("Cannot find");return await t.json()}catch(e){return!1}}(l),h=await async function(e){try{const t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=d32e343e2cba408f898102759232108&q=${e}&days=7`);if(!t.ok)throw new Error("Cannot find");return await t.json()}catch(e){return!1}}(l);var y;m.innerText=p?"":"Cannot find",y=p,e.innerText=`${y.location.name}, ${y.location.country}`,t.innerText=`${y.current.condition.text}`,n.src=y.current.condition.icon,c.innerText=`${y.current.temp_c}${d}`,r.innerText=`Wind: ${y.current.wind_kph}kph`,i.innerText=`Humidity: ${y.current.humidity}%`,o.innerText=`Feels like: ${y.current.feelslike_c}${d}`,function(e){const t=e.forecast.forecastday;a.innerHTML="",function(){const e=document.createElement("tr");e.setAttribute("id","heading");const t=u("Date"),n=u("Condition"),c=u("Wind"),r=u("Humidity"),i=u("High"),o=u("Low");e.appendChild(t),e.appendChild(n),e.appendChild(c),e.appendChild(r),e.appendChild(i),e.appendChild(o),a.appendChild(e)}();for(let e=0;e<t.length;e++){const n=t[e].day,c=s(t[e].date,n.condition.icon,n.avgvis_km,n.avghumidity,n.maxtemp_c,n.mintemp_c);a.appendChild(c)}}(h)}h("tirana"),p.addEventListener("keyup",(e=>{"Enter"===e.key&&(h(p.value),p.value="")}))})();